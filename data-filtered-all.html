<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="ressources/img/favicon.ico">

  <link rel="stylesheet" href="ressources/style.css" type="text/css" />
  <script type="text/javascript" src="ressources/js/jquery-1.9.0.min.js"></script>

  <title>UBPE2014@Valence | Filtered data</title>
</head>
<body>
  <div id="tab2" >
    <table id="data-table">
      <thead id="headers">
        <tr id="header_row"></tr>
      </thead>
      <tbody id="body_table"></tbody>
    </table>
  </div>

  <script type="text/javascript" src="ressources/leaflet/leaflet.js"></script>
  <script type="text/javascript" src="ressources/js/moment.js"></script>

  <script type="text/javascript" src="ressources/js/settings.js"></script>
  <script type="text/javascript" src="ressources/js/blacklist.js"></script>
  <script type="text/javascript" src="data/events.clean" id="events-file"></script>
  <script type="text/javascript" src="ressources/js/common.js"></script>

  <script>
    'use strict';

    (function initTable() {
      var headers = $('#header_row');

      var titles = [];
      for (var propName in settings.fieldLabels) {
        var title = settings.fieldLabels[propName];
        if (settings.fieldUnits[propName]) {
          title += "<br />(" + settings.fieldUnits[propName] + ")";
        }
        titles.push(title);
      };
      headers.append('<th>' + titles.join('</th><th>') + '</th>');

    })();

    function updateTable(data) {
      var values = [];

      for (var propName in settings.fieldLabels) {
        if (data['fixGPS'] == "A" && (propName == "latGPS" || propName == "longGPS")) {
          values.push(formatGPSCoordinates(data[propName]));
        } else {
          values.push(data[propName]);
        }
      };
      var x = $('<tr></tr>').append('<td>' + values.join('</td><td>') + '</td>');
      $('#body_table').prepend(x);
    }

    handlePageUpdate();

  </script>
</body>
</html>
